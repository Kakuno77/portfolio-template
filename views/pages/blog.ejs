
<!DOCTYPE html>
<html lang="fr">
  <% const {blog, logo, blogs, authorInfos, selected_article }=sections %>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Bienvenue sur le blog de Rathesh Charles intitulÃ© '<%= blog.title %>'">

  <title><%= blog.title %></title>
  <link rel="stylesheet" href="/style/blog.css" />
  <link rel="stylesheet" href="/style/navbar.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.cdnfonts.com/css/new-boba" rel="stylesheet">
  <link href="https://fonts.cdnfonts.com/css/sofia-pro" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <script src="/js/jquery-3.7.1.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">

</head>

<body>

    <%- include('../components/navbar', {logo, blogs}) %>
    <div class="blog">
      <% const content = blog.content  %>

        <div class="content-container">
          <div class="selected-article">
            <%- include('../components/blogs/article.ejs', {'article': content.articles[selected_article]}) %>

          </div>
          <div class="suggested-articles">
            <% let items = content.articles.slice(0, selected_article).concat(content.articles.slice(selected_article+1));  %>
            <% for (const item of items) { %>
              <a href="?index=<%= content.articles.indexOf(item); %>">
              <%- include('../components/blogs/preview.ejs', {'article': item}) %>
            </a>
              <% }%>
            </div>
        </div>
      </div>
      <%- include('../components/medias-icons', {authorInfos}) %>
        <%- include('../components/contact-side', {authorInfos}) %>
      <script>
        document.querySelector('.menu-items').style.display = 'flex'
        window.onload = function () {
          /*window.onresize = function() {
            console.log(window.innerWidth)
            console.log(Array.from(document.querySelectorAll('.block')))
            if (window.innerWidth <= 1024) { 
              Array.from(document.querySelectorAll('.block')).forEach(element => {
                console.log(element)
                element.className ='block column'
                Array.from(element.children).forEach((c) => {
                  console.log(c)
                  c.style.padding = "0"
                })
              });
            }
          }*/
        }
      </script>
</body>

</html>